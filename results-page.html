<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/core-list/core-list.html">
<link rel="import" href="bower_components/paper-shadow/paper-shadow.html">
<link rel="import" href="bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="bower_components/paper-button/paper-button.html">
<link rel="import" href="bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import"
      href="bower_components/paper-dropdown/paper-dropdown.html">
<link rel="import" href="x-trigger.html">
<script src="scripts/socket.io.js"></script>
<script src="initSocket.js"></script>

<polymer-element name="results-page" id="results-page">
    <template>
        <link rel="stylesheet" href="results-page.css">

        <section id="results-page-section">
            <div id="results-page-div">
                <!--on-core-activate="{{showResult}}"-->
                <h1 id="results-page-h1">Offer Results</h1>

                <div vertical layout>
                    <paper-button raised style="background-color: white" on-click="{{ updateLists }}">Refresh</paper-button>

                    <!-- Accepted Reservations -->
                    <div style="margin-bottom: 40px;">
                        <div class="list-type" horizontal layout>
                            <div flex>Accepted Offers</div>
                            <paper-button raised style="background-color: white; color: #6b499f; font-size: 16px; height: 30px; line-height: 10px; margin-top: -5px;" on-click="{{ book }}">book selected</paper-button>
                        </div>
                        <div class="list-header" horizontal layout>
                            <div flex two class="bold">Facility Name</div>
                            <div flex two class="bold">Time</div>
                            <div flex class="bold">Status</div>
                            <div flex class="bold">Book</div>
                            <div flex class="bold">Offer</div>
                        </div>
                        <core-list id="listAccepted" fit>
                            <template>
                                <div class="list-item" horizontal layout>
                                    <div flex two class="bold">{{model.name}}</div>
                                    <div flex two>{{model.time}}&nbsp;&nbsp;&nbsp;{{model.date}}</div>
                                    <div flex style="margin-top: -5px;">{{model.status}}</div>
                                    <div flex id="check"><paper-checkbox class="check" on-change="{{updateList}}" modelname="{{model.name}}" modeldate="{{model.date}}" modeltime="{{model.time}}" modelcost="{{model.cost}}"></paper-checkbox></div>
                                    <div flex id="cost">${{model.cost}}</div>
                                </div>
                            </template>

                            <div id="defaultAccepted" style="margin-top: -200px;padding: 25px;background-color: white;font-weight: 600;">No accepted offers</div>
                        </core-list>
                    </div>

                    <!-- Pending Reservations -->
                    <div style="margin-bottom: 40px;">
                        <div class="list-type" horizontal layout>
                            Pending Offers
                        </div>
                        <div class="list-header" horizontal layout>
                            <div flex three class="bold">Facility Name</div>
                            <div flex two class="bold">Time</div>
                            <div flex two class="bold">Status</div>
                            <div flex class="bold">Offer</div>
                        </div>
                        <core-list id="listPending" fit>
                            <template>
                                <div class="list-item" horizontal layout>
                                    <div flex three class="bold">{{model.name}}</div>
                                    <div flex two>{{model.time}}&nbsp;&nbsp;&nbsp;{{model.date}}</div>
                                    <div flex two>{{model.status}}</div>
                                    <div flex>${{model.cost}}</div>
                                </div>
                            </template>

                            <div id="defaultPending" style="margin-top: -200px;padding: 25px;background-color: white;font-weight: 600;">No pending offers</div>
                        </core-list>
                    </div>

                    <!-- Declined Reservations -->
                    <div>
                        <div class="list-type" horizontal layout>
                            Declined Offers
                        </div>
                        <div class="list-header" horizontal layout>
                            <div flex three class="bold">Facility Name</div>
                            <div flex two class="bold">Time</div>
                            <div flex two class="bold">Status</div>
                            <div flex class="bold">Offer</div>
                        </div>
                        <core-list id="listDeclined" fit>
                            <template>
                                <div class="list-item" horizontal layout>
                                    <div flex three class="bold">{{model.name}}</div>
                                    <div flex two>{{model.time}}&nbsp;&nbsp;&nbsp;{{model.date}}</div>
                                    <div flex two>{{model.status}}</div>
                                    <div flex>${{model.cost}}</div>
                                </div>
                            </template>
                        </core-list>
                        <div id="defaultDeclined" style="margin-top: -200px;padding: 25px;background-color: white;font-weight: 600;">No declined offers</div>
                    </div>

                </div>

            </div>
        </section>

        <paper-dialog backdrop id="itemDialog">
            <p>Some content</p>
        </paper-dialog>

    </template>
    <script src="results-page.html.0.js"></script>
</polymer-element>